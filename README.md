# Netron

[![npm version](https://img.shields.io/npm/v/@kidoweb/netron.svg)](https://www.npmjs.com/package/@kidoweb/netron)
[![GitHub license](https://img.shields.io/github/license/kidoweb/Netron)](https://github.com/kidoweb/Netron/blob/main/LICENSE)
[![GitHub stars](https://img.shields.io/github/stars/kidoweb/Netron)](https://github.com/kidoweb/Netron/stargazers)
[![GitHub issues](https://img.shields.io/github/issues/kidoweb/Netron)](https://github.com/kidoweb/Netron/issues)
[![GitHub pull requests](https://img.shields.io/github/issues-pr/kidoweb/Netron)](https://github.com/kidoweb/Netron/pulls)
[![Coverage Status](https://coveralls.io/repos/github/kidoweb/Netron/badge.svg?branch=main)](https://coveralls.io/github/kidoweb/Netron?branch=main)

Netron - —ç—Ç–æ –º–æ—â–Ω—ã–π Node.js –º–æ–¥—É–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö —Å–µ—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ —É–¥–æ–±—Å—Ç–≤–æ Jest —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é Postman. –ú–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç—ã —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –±–æ–≥–∞—Ç—ã–º –Ω–∞–±–æ—Ä–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö HTTP –º–µ—Ç–æ–¥–æ–≤ (GET, POST, PUT, DELETE, PATCH)
- üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üîÑ –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- üîí –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
- ‚è±Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
- üß™ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jest
- üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- üîå WebSocket —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üìà GraphQL —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üõ°Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install @kidoweb/netron
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
const NetworkTester = require('@kidoweb/netron');

describe('API Tests', () => {
  let tester;

  beforeEach(() => {
    tester = new NetworkTester();
    tester.setBaseURL('https://api.example.com');
  });

  test('should get user data', async () => {
    const response = await tester.get('/users/1');
    expect(response.status).toBe(200);
    expect(response.data).toHaveProperty('name');
  });
});
```

### WebSocket —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
test('WebSocket communication', async () => {
  const { id } = await tester.connectWebSocket('wss://echo.websocket.org');
  const message = { type: 'test', data: 'hello' };
  
  await tester.sendWebSocketMessage(id, message);
  await tester.closeWebSocket(id);
});
```

### GraphQL —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
test('GraphQL query', async () => {
  const clientId = await tester.createGraphQLClient('https://api.example.com/graphql');
  const query = `
    query {
      users {
        id
        name
      }
    }
  `;

  const response = await tester.executeGraphQLQuery(clientId, query);
  expect(response).toBeDefined();
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
test('API performance', async () => {
  const result = await tester.runPerformanceTest('https://api.example.com/users', {
    connections: 10,
    duration: 10
  });

  expect(result.requests.average).toBeGreaterThan(0);
  expect(result.latency.average).toBeLessThan(1000);
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```javascript
test('Security headers', async () => {
  const headers = await tester.testSecurityHeaders('https://api.example.com');
  expect(headers['X-Frame-Options']).toBeDefined();
  expect(headers['X-XSS-Protection']).toBeDefined();
});

test('Rate limiting', async () => {
  const results = await tester.testRateLimiting('https://api.example.com/users', 10);
  expect(results).toHaveLength(10);
  expect(results[0]).toHaveProperty('status');
});
```

## üìö API

### HTTP –º–µ—Ç–æ–¥—ã

- `get(url, config)`
- `post(url, data, config)`
- `put(url, data, config)`
- `delete(url, config)`
- `patch(url, data, config)`

### WebSocket –º–µ—Ç–æ–¥—ã

- `connectWebSocket(url, options)`
- `sendWebSocketMessage(connectionId, message)`
- `closeWebSocket(connectionId)`

### GraphQL –º–µ—Ç–æ–¥—ã

- `createGraphQLClient(url, options)`
- `executeGraphQLQuery(clientId, query, variables)`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- `runPerformanceTest(url, options)`
- `getPerformanceMetrics()`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- `testSecurityHeaders(url)`
- `testRateLimiting(url, requests, interval)`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- `setBaseURL(baseURL)`
- `setDefaultHeaders(headers)`
- `setTimeout(timeout)`
- `setAuth(auth)`
- `setProxy(proxy)`
- `setMaxRedirects(maxRedirects)`

### –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏

- `addRequestInterceptor(interceptor)`
- `addResponseInterceptor(interceptor)`

### –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- `getRequestHistory()`
- `clearRequestHistory()`

## üìñ –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è REST API

```javascript
describe('REST API Tests', () => {
  let tester;

  beforeEach(() => {
    tester = new NetworkTester();
    tester.setBaseURL('https://api.example.com');
  });

  test('CRUD operations', async () => {
    // Create
    const createResponse = await tester.post('/users', {
      name: 'John Doe',
      email: 'john@example.com'
    });
    expect(createResponse.status).toBe(201);
    const userId = createResponse.data.id;

    // Read
    const getResponse = await tester.get(`/users/${userId}`);
    expect(getResponse.status).toBe(200);
    expect(getResponse.data.name).toBe('John Doe');

    // Update
    const updateResponse = await tester.put(`/users/${userId}`, {
      name: 'John Updated'
    });
    expect(updateResponse.status).toBe(200);
    expect(updateResponse.data.name).toBe('John Updated');

    // Delete
    const deleteResponse = await tester.delete(`/users/${userId}`);
    expect(deleteResponse.status).toBe(200);
  });
});
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WebSocket –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```javascript
describe('WebSocket Tests', () => {
  let tester;
  let wsConnection;

  beforeEach(async () => {
    tester = new NetworkTester();
    wsConnection = await tester.connectWebSocket('wss://api.example.com/ws');
  });

  afterEach(async () => {
    await tester.closeWebSocket(wsConnection.id);
  });

  test('Real-time communication', async () => {
    const message = {
      type: 'subscribe',
      channel: 'updates'
    };

    await tester.sendWebSocketMessage(wsConnection.id, message);
    // –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞
  });
});
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è GraphQL API

```javascript
describe('GraphQL Tests', () => {
  let tester;
  let clientId;

  beforeEach(async () => {
    tester = new NetworkTester();
    clientId = await tester.createGraphQLClient('https://api.example.com/graphql');
  });

  test('Complex query', async () => {
    const query = `
      query GetUserWithPosts($userId: ID!) {
        user(id: $userId) {
          id
          name
          posts {
            id
            title
            comments {
              id
              text
            }
          }
        }
      }
    `;

    const variables = { userId: '1' };
    const response = await tester.executeGraphQLQuery(clientId, query, variables);
    
    expect(response.user).toBeDefined();
    expect(response.user.posts).toBeInstanceOf(Array);
  });
});
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ [–ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤](CONTRIBUTING.md) –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å pull request.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üë• –ê–≤—Ç–æ—Ä—ã

- **kidoweb** - *–ò–∑–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞* - [kidoweb](https://github.com/kidoweb)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Jest](https://jestjs.io/) - –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [Axios](https://axios-http.com/) - HTTP –∫–ª–∏–µ–Ω—Ç
- [WebSocket](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket) - –ü—Ä–æ—Ç–æ–∫–æ–ª WebSocket
- [GraphQL](https://graphql.org/) - –Ø–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ GraphQL
- [Autocannon](https://github.com/mcollina/autocannon) - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/kidoweb/Netron/issues).

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

### Q: –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Netron?
A: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ npm: `npm install @kidoweb/netron` –∏ —Å–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä–∞–º –≤ —Ä–∞–∑–¥–µ–ª–µ "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ" –≤—ã—à–µ.

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ Netron –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã?
A: –î–∞, Netron –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º async/await.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Netron –±–µ–∑ Jest?
A: –ù–µ—Ç, Netron —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Jest –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –º–∞—Ç—á–µ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫.

### Q: –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤?
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `setTimeout(timeout)`, –≥–¥–µ timeout —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ Netron WebSocket?
A: –î–∞, Netron –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É WebSocket —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

### Q: –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GraphQL API?
A: Netron –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GraphQL: `createGraphQLClient` –∏ `executeGraphQLQuery`.

### Q: –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã?
A: Netron –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤, —Å—Ä–µ–¥–Ω—é—é –∑–∞–¥–µ—Ä–∂–∫—É –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ `getPerformanceMetrics()`.

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏?
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `setDefaultHeaders(headers)` –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ Netron –ø—Ä–æ–∫—Å–∏?
A: –î–∞, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `setProxy(proxy)`.

### Q: –ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤?
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `clearRequestHistory()`.

### Q: –ö–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ Node.js –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?
A: Netron –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Node.js –≤–µ—Ä—Å–∏–∏ 12 –∏ –≤—ã—à–µ.

### Q: –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç?
A: –°–º. —Ä–∞–∑–¥–µ–ª "–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç" –∏ —Ñ–∞–π–ª CONTRIBUTING.md –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. 